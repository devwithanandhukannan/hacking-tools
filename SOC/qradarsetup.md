
# 🧠 Understanding Application Logs and IBM QRadar

---

## 1. Application Logs (Example: Apache Web Server)

### 🔹 What are Application Logs?

* Every time a user connects to a web server, it creates logs.
* Logs record details like visitor IP, request time, and actions performed.

---

### 🔹 Apache Log Demonstration (in Kali Linux)

1. **Start Apache Service**

   ```bash
   sudo service apache2 start
   ```
2. **Go to Apache Log Directory**

   ```bash
   cd /var/log/apache2
   ```
3. **View Logs in Real-Time**

   ```bash
   tail -f access.log
   ```
4. **Access the Webpage**

   * Open browser → enter server IP.
   * When a user visits, new entries appear in the `access.log`.

---

### 🔹 Log Format (Access Log)

Each entry contains:

* **Visitor IP**
* **Timestamp**
* **HTTP Method** (GET, POST, etc.)
* **Requested Resource**
* **Protocol**
* **Status Code**
* **HTTP Referrer**
* **User-Agent** (browser, OS info)

📘 Example:

```
192.168.1.10 - - [27/Oct/2025:21:32:45 +0530] "GET /index.html HTTP/1.1" 200 2326 "-" "Mozilla/5.0"
```

---

### 🔹 Test with Nmap

```bash
nmap -p 80 <ip> -A
```

* During scanning, Apache logs will capture timestamped entries showing connection attempts and requests.

---

## 2. Web Server Logs in Windows (IIS)

### 🔹 Enable IIS (Internet Information Services)

1. Go to **Control Panel → Programs → Turn Windows features on/off**
2. Enable **Internet Information Services (IIS)**

---

### 🔹 Access IIS Webpage

* Open browser → enter `127.0.0.1`
* IIS default page appears (Windows web server).

---

### 🔹 Location of IIS Logs

```
C:\inetpub\logs\LogFiles\W3SVC1
```

* Contains multiple log files.
* Each entry looks different from Apache logs.

💡 **Note:**
In IIS logs, the **first IP** is the *web server IP*, and the **second IP** is the *visitor IP*.

---

## 3. Windows Firewall Logs

### 🔹 Enable Firewall Logging

1. Open **Control Panel → System and Security → Windows Defender Firewall with Advanced Security**
2. Right-click **Windows Defender Firewall on Local Computer → Properties**
3. Under **Logging**, click **Customize**

   * Set **Log dropped packets** → Yes
   * Set **Log successful connections** → Yes

---

### 🔹 Firewall Log File Location

You’ll see the path mentioned (e.g., `C:\Windows\System32\LogFiles\Firewall\pfirewall.log`).

If access is denied:

* Right-click the file → **Properties → Security → Advanced → Change Owner**
* Find your username using:

  ```bash
  whoami
  ```
* Enable inheritance → OK → Yes

---

### 🔹 Firewall Log Format

| Field            | Description        |
| ---------------- | ------------------ |
| Date             | Log timestamp      |
| Time             | Event time         |
| Action           | Allowed or dropped |
| Protocol         | TCP/UDP            |
| Source IP        | Sender             |
| Destination IP   | Receiver           |
| Source Port      | Sender’s port      |
| Destination Port | Receiver’s port    |
| Size             | Packet size        |
| Process ID       | Process identifier |

---

## 4. Log Management in Organizations

* Every system generates logs (security, system, application).
* To handle this, companies use **SIEM (Security Information and Event Management)** tools.

---

### 🔹 Common SIEM Tools

| Tool                   | Description                 |
| ---------------------- | --------------------------- |
| **Splunk**             | Powerful log analytics tool |
| **IBM QRadar**         | Enterprise-grade SIEM       |
| **Microsoft Sentinel** | Cloud-native SIEM           |
| **LogRhythm**          | Popular in India            |
| **IBM SCIEM**          | Central monitoring platform |

---

### 🔹 SOAR (Security Orchestration, Automation, and Response)

* Helps in **incident response**.
* Detects, identifies, and reacts to attacks automatically.

---

### 🔹 EDR (Endpoint Detection and Response)

* Monitors and protects end-user devices like laptops or servers.

---

## 5. IBM QRadar Overview

### 🔹 Main Components

1. **Event Collector**

   * Collects logs from end devices.
   * Protocols: **Syslog**, **HTTP**, **HTTPS**.
   * Tasks:

     * **Parsing:** Interpret different log formats (Windows/Linux).
     * **Coalescing:** Group similar logs.
     * **Event Forwarding:** Send to Event Processor.
   * Licensing is based on **events per second (EPS)** or **flows per second (FPS)**.

2. **Event Processor**

   * Processes logs and applies correlation rules.

3. **Console**

   * Web interface for monitoring, managing offenses, and rule creation.

---

### 🔹 Log vs Flow

| Type     | Description                        | Generated By       |
| -------- | ---------------------------------- | ------------------ |
| **Log**  | User/system actions                | End devices        |
| **Flow** | Communication data between devices | Routers & switches |

Example:

* A user logs in via SSH → Log generated.
* Data sent during SSH session → Flow generated.

---

## 6. QRadar Installation (VM Setup)

### ⚙️ Basic Setup Steps

1. Create a **Host-only Adapter** network for QRadar VM.
2. When prompted, create a strong password (min 8 chars, includes symbols, caps, and numbers).
3. Login as **root**.

---

### 🔹 Initial Configuration

```bash
yum update -y
hostnamectl set-hostname soc.qradar
timedatectl set-timezone Asia/Kolkata
```

---

### 🔹 Network Configuration

```bash
ip a      # Check interface details
ip r      # View routing
nmtui     # Edit network settings
```

Inside `nmtui`:

* Edit connection → match interface name.
* Set:

  * IPv4: Manual
  * IPv6: Ignore

Save & Quit.

---

### 🔹 Disable IPv6 in Terminal

(Commands depend on the version; edit sysctl or network config to disable IPv6.)

---

### 🔹 Update System Info

Change OS version details as per requirement, save the configuration.

---

### 🔹 Reboot

```bash
reboot
```

or

```bash
poweroff
```

---

## 🧩 Summary

* **Apache / IIS Logs:** Track user access and activity.
* **Firewall Logs:** Monitor network connections.
* **SIEM Tools:** Collect and analyze logs at scale.
* **IBM QRadar:** Combines log and flow data to detect and respond to security incidents.

